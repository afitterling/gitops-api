generator:
  python:
    target: flask
    orm: sqlalchemy
    envs:
      dev:
        sqlite: 'dbstring'
      heroku-dev:
        postgres: 'dbstring' # add by ENV
      
deploy:
  infrastructure: 
    heroku: flask


model:
  name: user
  attributes:
    id:
      type: number
      key: primary
      #index: true
      unique: true

model:
    name: item
    table_name: items
    relates: user
    relation: onetomany
    attributes:
        id:
            type: number
            key: primary
            unique: true
        name:
            type: string
            constrains:
              unique: false

api: rest
security: 
  name: jwt
  tokens:
    - refresh
    - access_token

resource:
  name: ItemList
  types:
    - verb: GET
      model:
        - Item:
      jwt: required
    - verb: POST
      model:
        - Item:
          - name
      jwt: required 

endpoints:
  usersCreate: 
    url: /users
    resource: UserList
    action:
      create:
        - name
        - email
        - password







    